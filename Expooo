import React, { useState } from 'react';
import { motion } from 'framer-motion';

// Single-file React component (Tailwind + Framer Motion)
// Drop this file into a React app (Create React App / Vite) and make sure Tailwind + framer-motion are installed.
// Instructions: replace image URLs in the `data` array with real images you want to show.

export default function UAEExpoTimeline() {
  const data = [
    {
      expo: 'Expo 1970',
      city: 'Osaka (first Emirati participation)',
      year: 1970,
      architect: 'Early national participation',
      summary:
        'The UAE (then individual emirates) first appeared at the World Expo in Osaka 1970. It marked the beginning of a long tradition of representing Emirati culture on the world stage.',
      details:
        'This early participation introduced Emirati crafts, culture, and trade history to global visitors and set the stage for future, larger pavilions.',
      area: 'Small national display',
      image: '',
    },
    {
      expo: 'Expo 2000',
      city: 'Hanover',
      year: 2000,
      architect: 'National design',
      summary:
        'UAE pavilion at Expo 2000 recreated the form of a historical fortress and showcased cultural heritage alongside modern achievements.',
      details:
        'The pavilion combined traditional forms with exhibition spaces to present history, industry, and culture. It became one of the most visited national pavilions at the event.',
      area: '~3,000 m² (large national pavilion)',
      image: '',
    },
    {
      expo: 'Expo 2010',
      city: 'Shanghai',
      year: 2010,
      architect: 'Foster + Partners',
      summary:
        'Inspired by sand dunes, the UAE Pavilion used a gold reflective skin and passive environmental strategies to tell the story of the desert and modern sustainability projects like Masdar City.',
      details:
        'The pavilion had a 3,452 m² footprint and included exhibition halls, mezzanine, and auditoria. It was designed for disassembly and relocation after the Expo.',
      area: '~3,452 m²',
      image: '',
    },
    {
      expo: 'Expo 2015',
      city: 'Milan',
      year: 2015,
      architect: 'Foster + Partners',
      summary:
        'The Milan pavilion evoked compact desert-city planning: shaded streets and canyon-like spaces that highlighted energy-efficiency and Emirati heritage.',
      details:
        'The interior created self-shaded streets and demonstrated passive cooling and cultural narratives. The design linked traditional urban forms with modern sustainability principles.',
      area: 'Large national pavilion',
      image: '',
    },
    {
      expo: 'Expo 2017',
      city: 'Astana',
      year: 2017,
      architect: 'Ralph Appelbaum Associates / Acciona (creative/production teams)',
      summary:
        'Astana 2017 pavilion focused on the UAE’s energy diversification — from hydrocarbons to renewables — using immersive media and interactive exhibits.',
      details:
        'The pavilion showcased renewable-energy projects, interactive displays and multimedia experiences to tell the story of the UAE’s future-facing energy strategy.',
      area: 'Medium pavilion',
      image: '',
    },
    {
      expo: 'Expo 2020',
      city: 'Dubai',
      year: 2021,
      architect: 'Santiago Calatrava',
      summary:
        'Designed as a falcon in flight, the UAE Pavilion at Expo 2020 Dubai was a landmark LEED-Platinum project with 28 movable wings and integrated photovoltaics.',
      details:
        "The pavilion covered about 15,000 m² across multiple floors and zones (Oasis, Falaj, Desert of Dreams, Generations, Dreaming Together). It was designed to be a lasting legacy building after the Expo.",
      area: '~15,000 m²',
      image: '',
    },
  ];

  const [index, setIndex] = useState(0);

  const handleNext = () => setIndex((i) => (i + 1) % data.length);
  const handlePrev = () => setIndex((i) => (i - 1 + data.length) % data.length);

  // Animation variants
  const cardVariants = {
    enter: { opacity: 0, x: 100 },
    center: { opacity: 1, x: 0 },
    exit: { opacity: 0, x: -100 },
  };

  return (
    <div className="p-6 min-h-screen bg-gradient-to-br from-sky-50 to-white">
      <header className="max-w-4xl mx-auto text-center mb-6">
        <h1 className="text-3xl md:text-5xl font-extrabold">UAE Pavilions: World Expo Timeline</h1>
        <p className="mt-2 text-sm md:text-base text-gray-600">
          Interactive animated timeline showing UAE national pavilions at major World and Specialized Expos.
        </p>
      </header>

      <main className="max-w-4xl mx-auto">
        <section className="flex items-center justify-between mb-4">
          <button
            onClick={handlePrev}
            className="px-4 py-2 rounded-lg shadow-sm bg-white hover:bg-gray-50"
            aria-label="Previous pavilion"
          >
            ◀ Prev
          </button>

          <div className="text-center">
            <div className="text-sm text-gray-500">Featured</div>
            <div className="font-semibold">{data[index].expo} — {data[index].city} ({data[index].year})</div>
          </div>

          <button
            onClick={handleNext}
            className="px-4 py-2 rounded-lg shadow-sm bg-white hover:bg-gray-50"
            aria-label="Next pavilion"
          >
            Next ▶
          </button>
        </section>

        <motion.article
          key={index}
          initial="enter"
          animate="center"
          exit="exit"
          variants={cardVariants}
          transition={{ type: 'spring', stiffness: 120 }}
          className="bg-white rounded-2xl shadow-xl p-6 mb-6"
        >
          <div className="md:flex md:gap-6">
            <div className="md:w-1/2 mb-4 md:mb-0">
              {/* Image placeholder - replace data[index].image with URL */}
              <div className="w-full h-64 bg-gray-100 rounded-lg overflow-hidden flex items-center justify-center">
                {data[index].image ? (
                  // eslint-disable-next-line jsx-a11y/img-redundant-alt
                  <img src={data[index].image} alt={`Image of ${data[index].expo} UAE pavilion`} className="object-cover w-full h-full" />
                ) : (
                  <div className="text-gray-400">Image not provided — replace URL in data array</div>
                )}
              </div>
            </div>

            <div className="md:w-1/2">
              <h2 className="text-2xl font-bold">{data[index].expo}</h2>
              <div className="text-sm text-gray-500 mb-2">{data[index].city} • {data[index].year} • {data[index].architect}</div>

              <p className="mb-3 text-gray-700"><strong>Short:</strong> {data[index].summary}</p>
              <p className="mb-3 text-gray-700"><strong>Details:</strong> {data[index].details}</p>

              <div className="mt-4 flex gap-3">
                <button
                  onClick={() => window.alert('Open a longer slideshow or 3D view — integrate your viewer here.')}
                  className="px-3 py-2 rounded-md border"
                >
                  Open immersive view
                </button>

                <button
                  onClick={() => window.alert('Download pavilion assets — link this to your asset server.')}
                  className="px-3 py-2 rounded-md bg-indigo-600 text-white"
                >
                  Download assets
                </button>
              </div>
            </div>
          </div>
        </motion.article>

        {/* Timeline dots */}
        <section className="bg-white rounded-xl shadow p-4">
          <div className="flex items-center gap-4 overflow-x-auto px-2">
            {data.map((d, i) => (
              <motion.button
                key={d.expo}
                whileHover={{ scale: 1.06 }}
                whileTap={{ scale: 0.98 }}
                onClick={() => setIndex(i)}
                className={`flex-none w-40 p-3 rounded-lg border ${i === index ? 'border-indigo-500 bg-indigo-50' : 'bg-white'}`}
              >
                <div className="text-sm text-gray-500">{d.year}</div>
                <div className="font-medium">{d.expo}</div>
                <div className="text-xs text-gray-400">{d.city}</div>
              </motion.button>
            ))}
          </div>
        </section>

        <footer className="mt-6 text-xs text-gray-500 text-center">Built for learning — replace images and fine-tune styles as you like.</footer>
      </main>
    </div>
  );
}
